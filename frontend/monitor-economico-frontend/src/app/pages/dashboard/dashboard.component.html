<!-- =======================
     SELIC
======================= -->
<div class="indicator-wrapper selic">

<label class="selector">
  <input type="checkbox" [(ngModel)]="indicadoresSelecionados.selic" />
  Incluir SELIC no relatório

  <span class="tooltip-container">
    ?
    <span class="tooltip-text">
      Taxa básica de juros da economia brasileira, usada para controlar a inflação.
    </span>
  </span>
</label>

  <div class="date-filter">
    <input
      type="month"
      [(ngModel)]="selicInicio"
      [min]="limiteQuatroAnos.toISOString().substring(0,7)"
      [max]="hoje.toISOString().substring(0,7)"
    />
    <span>até</span>
    <input
      type="month"
      [(ngModel)]="selicFim"
      [min]="limiteQuatroAnos.toISOString().substring(0,7)"
      [max]="hoje.toISOString().substring(0,7)"
    />
  </div>

  <div class="filter-actions">
    <button class="filter-btn" (click)="aplicarFiltro()">
      Aplicar filtro de datas
    </button>
  </div>

  <div id="export-selic" class="indicator-section">
    <app-indicator-card
      title="SELIC"
      icon="↗"
      [value]="selic"
      [trend]="tendenciaSelic"
      [updatedAt]="selicAtualizadoEm"
      cssClass="card-selic">
    </app-indicator-card>

    <div class="connector"></div>

    <app-economic-chart
      label="Taxa SELIC (%)"
      [labels]="selicLabels"
      [values]="selicHistorico"
      [periodo]="selicInicio && selicFim ? (selicInicio + ' - ' + selicFim) : ''"
      color="#0d47a1">
    </app-economic-chart>
  </div>

</div>

<!-- =======================
     IPCA
======================= -->
<div class="indicator-wrapper ipca">

  <label class="selector">
    <input type="checkbox" [(ngModel)]="indicadoresSelecionados.ipca" />
    Incluir IPCA no relatório

    <span class="tooltip-container">
  ?
  <span class="tooltip-text">
    Índice oficial que mede a inflação no Brasil.
  </span>
</span>
  </label>

  <div class="date-filter">
    <input
      type="month"
      [(ngModel)]="ipcaInicio"
      [min]="limiteQuatroAnos.toISOString().substring(0,7)"
      [max]="hoje.toISOString().substring(0,7)"
    />
    <span>até</span>
    <input
      type="month"
      [(ngModel)]="ipcaFim"
      [min]="limiteQuatroAnos.toISOString().substring(0,7)"
      [max]="hoje.toISOString().substring(0,7)"
    />
  </div>

  <div class="filter-actions">
    <button class="filter-btn" (click)="aplicarFiltro()">
      Aplicar filtro de datas
    </button>
  </div>

  <div id="export-ipca" class="indicator-section">
    <app-indicator-card
      title="IPCA"
      icon="≋"
      [value]="ipca"
      [trend]="tendenciaIpca"
      [updatedAt]="ipcaAtualizadoEm"
      cssClass="card-ipca">
    </app-indicator-card>

    <div class="connector"></div>

    <app-economic-chart
      label="IPCA (%)"
      [labels]="ipcaLabels"
      [values]="ipcaHistorico"
      [periodo]="ipcaInicio && ipcaFim ? (ipcaInicio + ' - ' + ipcaFim) : ''"
      color="#2e7d32">
    </app-economic-chart>
  </div>

</div>

<!-- =======================
     PIB
======================= -->
<div class="indicator-wrapper pib">

  <label class="selector">
    <input type="checkbox" [(ngModel)]="indicadoresSelecionados.pib" />
    Incluir PIB no relatório

    <span class="tooltip-container">
  ?
  <span class="tooltip-text">
    Soma de todos os bens e serviços produzidos no país.
  </span>
</span>
  </label>

  <div class="date-filter">
    <input
      type="month"
      [(ngModel)]="pibInicio"
      [min]="limiteQuatroAnos.toISOString().substring(0,7)"
      [max]="hoje.toISOString().substring(0,7)"
    />
    <span>até</span>
    <input
      type="month"
      [(ngModel)]="pibFim"
      [min]="limiteQuatroAnos.toISOString().substring(0,7)"
      [max]="hoje.toISOString().substring(0,7)"
    />
  </div>

  <div class="filter-actions">
    <button class="filter-btn" (click)="aplicarFiltro()">
      Aplicar filtro de datas
    </button>
  </div>

  <div id="export-pib" class="indicator-section">
    <app-indicator-card
      title="PIB"
      icon="Δ"
      [value]="pib"
      [trend]="tendenciaPib"
      [updatedAt]="pibAtualizadoEm"
      cssClass="card-pib">
    </app-indicator-card>

    <div class="connector"></div>

    <app-economic-chart
      label="Índice do PIB"
      [labels]="pibLabels"
      [values]="pibHistorico"
      [periodo]="pibInicio && pibFim ? (pibInicio + ' - ' + pibFim) : ''"
      color="#455a64">
    </app-economic-chart>
  </div>

</div>

<!-- =======================
     CÂMBIO
======================= -->
<div class="indicator-wrapper cambio">

  <label class="selector">
    <input type="checkbox" [(ngModel)]="indicadoresSelecionados.cambio" />
    Incluir Câmbio no relatório

    <span class="tooltip-container">
  ?
  <span class="tooltip-text">
    Valor da moeda brasileira em relação ao Dólar comercial (USD/BRL)
  </span>
</span>
  </label>

  <div class="date-filter">
    <input
      type="date"
      [(ngModel)]="cambioInicio"
      [min]="limiteQuatroAnos.toISOString().split('T')[0]"
      [max]="hoje.toISOString().split('T')[0]"
    />
    <span>até</span>
    <input
      type="date"
      [(ngModel)]="cambioFim"
      [min]="limiteQuatroAnos.toISOString().split('T')[0]"
      [max]="hoje.toISOString().split('T')[0]"
    />
  </div>

  <div class="filter-actions">
    <button class="filter-btn" (click)="aplicarFiltro()">
      Aplicar filtro de datas
    </button>
  </div>

  <div id="export-cambio" class="indicator-section">
    <app-indicator-card
      title="CÂMBIO"
      icon="⇄"
      [value]="cambio"
      [trend]="tendenciaCambio"
      [updatedAt]="cambioAtualizadoEm"
      cssClass="card-cambio">
    </app-indicator-card>

    <div class="connector"></div>

    <app-economic-chart
      label="Câmbio (R$)"
      [labels]="cambioLabels"
      [values]="cambioHistorico"
      [periodo]="cambioInicio && cambioFim ? (cambioInicio + ' - ' + cambioFim) : ''"
      color="#1565c0">
    </app-economic-chart>
  </div>

</div>

<!-- =======================
     EXPORTAÇÃO
======================= -->
<div class="export-actions">
  <button class="export-btn" (click)="exportarPDF()">
    Exportar indicadores selecionados (PDF)
  </button>
</div>
